"use strict";(self.webpackChunkrent_a_car=self.webpackChunkrent_a_car||[]).push([[237],{1815:(e,t,a)=>{a.r(t),a.d(t,{default:()=>A});var r=a(2791),n=a(5218),l=a(4192),i=a(8090),o=a(1754);const s=e=>{let{carsArr:t,make:a="All makers",rentalPrice:r="To $",from:n,to:l}=e;if("All makers"===a&&"To $"===r&&!n&&!l)return[...t];return t.filter((e=>{const t="All makers"===a||a===e.make,i="To $"===r||parseInt(r)>=parseInt(e.rentalPrice.replace(/\D/g,"")),o=!n||parseInt(n)<=e.mileage,s=!l||parseInt(l)>=e.mileage;return t&&i&&o&&s}))};var c=a(3510),d=a(9686),p=a(184);const u=e=>{let{carsData:t}=e;return(0,p.jsx)(p.Fragment,{children:(0,p.jsx)("ul",{className:d.Z["card-list"],children:t.map((e=>(0,p.jsx)("li",{className:d.Z["card-list-item"],children:(0,p.jsx)(c.Z,{data:e})},e.id)))})})};var m=a(7689),g=a(5068);const x=e=>{let{inputName:t,selectOpt:a,handleSelectChange:n,defaultValue:l,isLoading:i=!1,styles:o}=e;const[s,c]=(0,r.useState)(l);(0,r.useEffect)((()=>{l||(c(a[0].label),n({name:t,value:a[0].label}))}),[a,l,n,t]);return(0,p.jsx)(g.ZP,{name:t,"aria-label":"".concat(t," select input"),value:{label:s},isLoading:i,onChange:(e,t)=>{let{name:a}=t;c(e.label),n({name:a,value:e.label})},options:a,isSearchable:!1,styles:o,openMenuOnFocus:!0})};var h=a(9736);const b=e=>[{label:"All makers"},...[...e].sort(((e,t)=>e.localeCompare(t))).map((e=>({value:e,label:e})))],f=e=>0===e.length?0:e.reduce(((e,t)=>{const a=parseInt(t.rentalPrice.replace(/\D/g,""));return a>e?a:e}),0),v=e=>0===e.length?0:e.reduce(((e,t)=>{const a=parseInt(t.rentalPrice.replace(/\D/g,""));return a<e?a:e}),1e5),k=10,w=e=>{const t=Math.ceil((f(e)-k)/k)*k+k,a=[];for(let r=Math.ceil((v(e)-k)/k)*k+k;r<=t;r+=10)a.push({value:"".concat(r),label:"".concat(r)});return[{label:"To $"},...a]},S="CatalogFilters_form__b42xo",C="CatalogFilters_label__kBR0+",_="CatalogFilters_label-txt__x43H-",j="CatalogFilters_input__StWLk",y="CatalogFilters_from__2m71+",P="CatalogFilters_to__Rt-OF",F="CatalogFilters_modal-btn__vvpZk",Z={container:e=>({...e,display:"inline-block"}),control:e=>({...e,minHeight:"40px",height:"48px",minWidth:"230px",backgroundColor:"var(--select-bg-cl)",border:"none",boxShadow:"none",cursor:"pointer",borderRadius:"14px",padding:"14px 18px"}),dropdownIndicator:(e,t)=>{let{selectProps:a}=t;return{...e,padding:0,transform:a.menuIsOpen?"rotate(180deg)":"rotate(0)",color:"var(--secondary-txt-cl)"}},valueContainer:e=>({...e,padding:0}),input:e=>({...e,padding:0,margin:0,height:0}),indicatorSeparator:e=>({...e,display:"none"}),singleValue:e=>({...e,padding:0,marginLeft:0,marginRight:"30px",color:"var(--secondary-txt-cl)",fontSize:"18px",fontWeight:"500",lineHeight:"1.11",overflow:"visible"}),menu:e=>({...e,top:55,right:0,width:"131px",padding:"7px 2px 7px 10px",margin:0,fontSize:"14px",fontStyle:"normal",fontWeight:"500",lineHeight:"1.25",color:"var(--tags-txt-cl)",borderRadius:"12px",backgroundColor:"var(--select-bg-cl)","@media screen and (min-width: 768px)":{...e["@media screen and (min-width: 768px)"],width:"139px",padding:"14px 10px 14px 18px",borderRadius:"20px"},"@media screen and (min-width: 1440px)":{...e["@media screen and (min-width: 1440px)"],right:"0",width:"230px",fontSize:"16px"}}),menuList:e=>({...e,padding:0,"&::-webkit-scrollbar":{width:"8px"},"&::-webkit-scrollbar-thumb":{background:"#434d67",borderRadius:"20px"}}),option:(e,t)=>({...e,padding:"3px 0",color:t.getValue()[0].label===t.data.label?"var(--secondary-txt-cl)":"#a8a8a8",background:"none","&:hover":{backgroundColor:"var(--tags-txt-cl)",color:"var(--secondary-txt-cl)"},"&:active":{color:"var(--secondary-txt-cl)",backgroundColor:"var(--tags-txt-cl)"},cursor:"pointer","@media screen and (min-width: 768px)":{...e["@media screen and (min-width: 768px)"],padding:"4px 0"}}),loadingIndicator:e=>({...e,color:"var(--secondary-txt-cl)"})},N=()=>({...Z,control:e=>({...e,minHeight:"40px",height:"48px",minWidth:"130px",backgroundColor:"var(--select-bg-cl)",border:"none",boxShadow:"none",cursor:"pointer",borderRadius:"14px",padding:"14px 18px"}),menu:e=>({...e,top:55,right:0,width:"131px",padding:"7px 2px 7px 10px",margin:0,fontSize:"14px",fontStyle:"normal",fontWeight:"500",lineHeight:"1.25",color:"var(--tags-txt-cl)",borderRadius:"12px",backgroundColor:"var(--select-bg-cl)","@media screen and (min-width: 768px)":{...e["@media screen and (min-width: 768px)"],width:"139px",padding:"14px 10px 14px 18px",borderRadius:"20px"},"@media screen and (min-width: 1440px)":{...e["@media screen and (min-width: 1440px)"],right:"0",width:"130px",fontSize:"16px"}})});var L=a(1057);const R=e=>{let{props:{setCurrentPage:t,handleSearch:a,currentPage:n,limit:i}}=e;const{data:o,isLoading:s}=(0,h.i)(),{data:c}=(0,l.he)(),[d,u]=(0,r.useState)("All makers"),[g,f]=(0,r.useState)("To $"),[v,k]=(0,r.useState)([]),[R,T]=(0,r.useState)([]),[I,A]=(0,r.useState)(""),[M,E]=(0,r.useState)(""),z=(0,m.s0)();(0,r.useEffect)((()=>{o&&c&&(k(b(o)),T(w(c)))}),[c,o,n,i]),(0,r.useEffect)((()=>{const e=e=>{if(e.clientY<0){const e=window.location.pathname;z(e)}};return window.addEventListener("unload",e),()=>{window.removeEventListener("unload",e)}}),[z]);const D=e=>{const{name:t,value:a}=e;switch(t){case"makesCategoty":return void u(a);case"priceFilter":return void f(a);default:return}},H=e=>{const{value:t,name:a}=e.target;switch(a){case"from":return void A(t);case"to":return void E(t);default:return}};return(0,p.jsxs)("form",{className:S,autoComplete:"off",onSubmit:e=>{e.preventDefault(),t(1),a({make:d,rentalPrice:g,from:I,to:M})},children:[(0,p.jsxs)("label",{className:C,children:[(0,p.jsx)("span",{className:_,children:"Car brand"}),(0,p.jsx)(x,{inputName:"makesCategoty",selectOpt:v,handleSelectChange:D,defaultValue:d,isLoading:s,styles:Z})]}),(0,p.jsxs)("label",{className:C,children:[(0,p.jsx)("span",{className:_,children:"Price/ 1 hour"}),(0,p.jsx)(x,{inputName:"priceFilter",selectOpt:R,handleSelectChange:D,defaultValue:g,isLoading:s,styles:N()})]}),(0,p.jsxs)("div",{className:C,children:[(0,p.jsx)("label",{className:_,htmlFor:"from",children:"\u0421ar mileage / km"}),(0,p.jsxs)("div",{children:[(0,p.jsx)("input",{className:"".concat(j," ").concat(y),placeholder:"From",type:"text",name:"from",value:I,onChange:H}),(0,p.jsx)("input",{className:"".concat(j," ").concat(P),placeholder:"To",type:"text",name:"to",value:M,onChange:H})]})]}),(0,p.jsx)(L.Z,{type:"submit",btnTitle:"Search",styles:F})]})};var T=a(2112),I=a(4290);const A=()=>{const[e,t]=(0,r.useState)(1),[a,c]=(0,r.useState)(9),[m,g]=(0,r.useState)(0),[x,h]=(0,r.useState)([]),[b,f]=(0,r.useState)({}),[v,k]=(0,r.useState)(!1),[w,S]=(0,r.useState)([]),{data:C,isLoading:_,isFetching:j}=(0,l.he)();(0,r.useEffect)((()=>{if(C)if(c(12),v){const t=(0,i.Z)({arr:w,limit:a,currentPage:e});h(t),g(Math.ceil(w.length/a))}else{const t=(0,i.Z)({arr:C,limit:a,currentPage:e});h(t),g(Math.ceil(C.length/a))}}),[C,e,a,v,w]),(0,r.useEffect)((()=>{(0,o.Z)({arr:x,limit:a})}),[x,a]);return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(R,{props:{setCurrentPage:t,handleSearch:e=>{let{make:t,rentalPrice:a,from:r,to:l}=e;if(t===b.make&&a===b.rentalPrice&&r===b.from&&l===b.to)return;f({make:t,rentalPrice:a,from:r,to:l}),k(!0);const i=s({carsArr:C,make:t,rentalPrice:a,from:r,to:l});i.length>0?(0,n.ZP)("".concat(i.length," cars found"),{icon:"\ud83d\udd0d"}):n.ZP.error("There is no match"),S(i)},currentPage:e,limit:a}}),_||j?(0,p.jsx)(I.Z,{size:15,margin:10,position:{marginTop:"100px",marginLeft:"auto",marginRight:"auto",textAlign:"center"}}):0!==x.length?(0,p.jsx)(u,{carsData:x}):(0,p.jsx)(T.Z,{noContMess:"Sorry, we couldn't find any vehicles"}),e<m&&(0,p.jsx)(L.Z,{className:d.Z["load-btn"],onMainBtnClick:()=>{t((e=>e+1))},btnTitle:"Load More",styles:d.Z["load-btn"]})]})}}}]);
//# sourceMappingURL=237.4a6e2fbf.chunk.js.map
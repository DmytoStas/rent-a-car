"use strict";(self.webpackChunkrent_a_car=self.webpackChunkrent_a_car||[]).push([[237],{1815:(e,t,a)=>{a.r(t),a.d(t,{default:()=>I});var r=a(2791),n=a(4192),l=a(8090),i=a(1754);const o=e=>{let{carsArr:t,make:a="All makers",rentalPrice:r="To $",from:n,to:l}=e;if("All makers"===a&&"To $"===r&&!n&&!l)return[...t];return t.filter((e=>{const t="All makers"===a||a===e.make,i="To $"===r||parseInt(r)>=parseInt(e.rentalPrice.replace(/\D/g,"")),o=!n||parseInt(n)<=e.mileage,s=!l||parseInt(l)>=e.mileage;return t&&i&&o&&s}))};var s=a(3510),c=a(9686),d=a(184);const p=e=>{let{carsData:t}=e;return(0,d.jsx)(d.Fragment,{children:(0,d.jsx)("ul",{className:c.Z["card-list"],children:t.map((e=>(0,d.jsx)("li",{className:c.Z["card-list-item"],children:(0,d.jsx)(s.Z,{data:e})},e.id)))})})};var m=a(7689),u=a(5068);const g=e=>{let{inputName:t,selectOpt:a,handleSelectChange:n,defaultValue:l,isLoading:i=!1,styles:o}=e;const[s,c]=(0,r.useState)(l);(0,r.useEffect)((()=>{l||(c(a[0].label),n({name:t,value:a[0].label}))}),[a,l,n,t]);return(0,d.jsx)(u.ZP,{name:t,"aria-label":"".concat(t," select input"),value:{label:s},isLoading:i,onChange:(e,t)=>{let{name:a}=t;c(e.label),n({name:a,value:e.label})},options:a,isSearchable:!1,styles:o,openMenuOnFocus:!0})};var x=a(9736);const h=e=>[{label:"All makers"},...[...e].sort(((e,t)=>e.localeCompare(t))).map((e=>({value:e,label:e})))],b=e=>0===e.length?0:e.reduce(((e,t)=>{const a=parseInt(t.rentalPrice.replace(/\D/g,""));return a>e?a:e}),0),f=e=>0===e.length?0:e.reduce(((e,t)=>{const a=parseInt(t.rentalPrice.replace(/\D/g,""));return a<e?a:e}),1e5),v=e=>{const t=10*Math.ceil((b(e)-10)/10)+10,a=[];for(let r=10*Math.ceil((f(e)-10)/10)+10;r<=t;r+=10)a.push({value:"".concat(r),label:"".concat(r)});return[{label:"To $"},...a]},k="CatalogFilters_form__b42xo",w="CatalogFilters_label__kBR0+",S="CatalogFilters_label-txt__x43H-",C="CatalogFilters_input__StWLk",_="CatalogFilters_from__2m71+",j="CatalogFilters_to__Rt-OF",y="CatalogFilters_modal-btn__vvpZk",P={container:e=>({...e,display:"inline-block"}),control:e=>({...e,minHeight:"40px",height:"48px",minWidth:"230px",backgroundColor:"var(--select-bg-cl)",border:"none",boxShadow:"none",cursor:"pointer",borderRadius:"14px",padding:"14px 18px"}),dropdownIndicator:(e,t)=>{let{selectProps:a}=t;return{...e,padding:0,transform:a.menuIsOpen?"rotate(180deg)":"rotate(0)",color:"var(--secondary-txt-cl)"}},valueContainer:e=>({...e,padding:0}),input:e=>({...e,padding:0,margin:0,height:0}),indicatorSeparator:e=>({...e,display:"none"}),singleValue:e=>({...e,padding:0,marginLeft:0,marginRight:"30px",color:"var(--secondary-txt-cl)",fontSize:"18px",fontWeight:"500",lineHeight:"1.11",overflow:"visible"}),menu:e=>({...e,top:55,right:0,width:"131px",padding:"7px 2px 7px 10px",margin:0,fontSize:"14px",fontStyle:"normal",fontWeight:"500",lineHeight:"1.25",color:"var(--tags-txt-cl)",borderRadius:"12px",backgroundColor:"var(--select-bg-cl)","@media screen and (min-width: 768px)":{...e["@media screen and (min-width: 768px)"],width:"139px",padding:"14px 10px 14px 18px",borderRadius:"20px"},"@media screen and (min-width: 1440px)":{...e["@media screen and (min-width: 1440px)"],right:"0",width:"230px",fontSize:"16px"}}),menuList:e=>({...e,padding:0,"&::-webkit-scrollbar":{width:"8px"},"&::-webkit-scrollbar-thumb":{background:"#434d67",borderRadius:"20px"}}),option:(e,t)=>({...e,padding:"3px 0",color:t.getValue()[0].label===t.data.label?"var(--secondary-txt-cl)":"#a8a8a8",background:"none","&:hover":{backgroundColor:"var(--tags-txt-cl)",color:"var(--secondary-txt-cl)"},"&:active":{color:"var(--secondary-txt-cl)",backgroundColor:"var(--tags-txt-cl)"},cursor:"pointer","@media screen and (min-width: 768px)":{...e["@media screen and (min-width: 768px)"],padding:"4px 0"}}),loadingIndicator:e=>({...e,color:"var(--secondary-txt-cl)"})},F=()=>({...P,control:e=>({...e,minHeight:"40px",height:"48px",minWidth:"130px",backgroundColor:"var(--select-bg-cl)",border:"none",boxShadow:"none",cursor:"pointer",borderRadius:"14px",padding:"14px 18px"}),menu:e=>({...e,top:55,right:0,width:"131px",padding:"7px 2px 7px 10px",margin:0,fontSize:"14px",fontStyle:"normal",fontWeight:"500",lineHeight:"1.25",color:"var(--tags-txt-cl)",borderRadius:"12px",backgroundColor:"var(--select-bg-cl)","@media screen and (min-width: 768px)":{...e["@media screen and (min-width: 768px)"],width:"139px",padding:"14px 10px 14px 18px",borderRadius:"20px"},"@media screen and (min-width: 1440px)":{...e["@media screen and (min-width: 1440px)"],right:"0",width:"130px",fontSize:"16px"}})});var Z=a(1057);const N=e=>{let{props:{setCurrentPage:t,handleSearch:a,currentPage:l,limit:i}}=e;const{data:o,isLoading:s}=(0,x.i)(),{data:c}=(0,n.he)(),[p,u]=(0,r.useState)("All makers"),[b,f]=(0,r.useState)("To $"),[N,L]=(0,r.useState)([]),[R,T]=(0,r.useState)([]),[I,A]=(0,r.useState)(""),[M,E]=(0,r.useState)(""),z=(0,m.s0)();(0,r.useEffect)((()=>{o&&c&&(L(h(o)),T(v(c)))}),[c,o,l,i]),(0,r.useEffect)((()=>{const e=e=>{if(e.clientY<0){const e=window.location.pathname;z(e)}};return window.addEventListener("unload",e),()=>{window.removeEventListener("unload",e)}}),[z]);const D=e=>{const{name:t,value:a}=e;switch(t){case"makesCategoty":return void u(a);case"priceFilter":return void f(a);default:return}},H=e=>{const{value:t,name:a}=e.target;switch(a){case"from":return void A(t);case"to":return void E(t);default:return}};return(0,d.jsxs)("form",{className:k,autoComplete:"off",onSubmit:e=>{e.preventDefault(),t(1),a({make:p,rentalPrice:b,from:I,to:M})},children:[(0,d.jsxs)("label",{className:w,children:[(0,d.jsx)("span",{className:S,children:"Car brand"}),(0,d.jsx)(g,{inputName:"makesCategoty",selectOpt:N,handleSelectChange:D,defaultValue:p,isLoading:s,styles:P})]}),(0,d.jsxs)("label",{className:w,children:[(0,d.jsx)("span",{className:S,children:"Price/ 1 hour"}),(0,d.jsx)(g,{inputName:"priceFilter",selectOpt:R,handleSelectChange:D,defaultValue:b,isLoading:s,styles:F()})]}),(0,d.jsxs)("div",{className:w,children:[(0,d.jsx)("label",{className:S,htmlFor:"from",children:"\u0421ar mileage / km"}),(0,d.jsxs)("div",{children:[(0,d.jsx)("input",{className:"".concat(C," ").concat(_),placeholder:"From",type:"text",name:"from",value:I,onChange:H}),(0,d.jsx)("input",{className:"".concat(C," ").concat(j),placeholder:"To",type:"text",name:"to",value:M,onChange:H})]})]}),(0,d.jsx)(Z.Z,{type:"submit",btnTitle:"Search",styles:y})]})};var L=a(5218),R=a(2112),T=a(4290);const I=()=>{const[e,t]=(0,r.useState)(1),[a,s]=(0,r.useState)(9),[m,u]=(0,r.useState)(0),[g,x]=(0,r.useState)([]),[h,b]=(0,r.useState)({}),[f,v]=(0,r.useState)(!1),[k,w]=(0,r.useState)([]),{data:S,isLoading:C,isFetching:_}=(0,n.he)();(0,r.useEffect)((()=>{if(S)if(s(12),f){const t=(0,l.Z)({arr:k,limit:a,currentPage:e});x(t),u(Math.ceil(k.length/a))}else{const t=(0,l.Z)({arr:S,limit:a,currentPage:e});x(t),u(Math.ceil(S.length/a))}}),[S,e,a,f,k]),(0,r.useEffect)((()=>{(0,i.Z)({arr:g,limit:a})}),[g,a]);return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(N,{props:{setCurrentPage:t,handleSearch:e=>{let{make:t,rentalPrice:a,from:r,to:n}=e;if(t===h.make&&a===h.rentalPrice&&r===h.from&&n===h.to)return;b({make:t,rentalPrice:a,from:r,to:n}),v(!0);const l=o({carsArr:S,make:t,rentalPrice:a,from:r,to:n});l.length>0?(0,L.ZP)("".concat(l.length," cars found"),{icon:"\ud83d\udd0d"}):L.ZP.error("There is no match"),w(l)},currentPage:e,limit:a}}),C||_?(0,d.jsx)(T.Z,{size:15,margin:10,position:{marginTop:"100px",marginLeft:"50%",transform:"translateX(-50%)",textAlign:"center"}}):0!==g.length?(0,d.jsx)(p,{carsData:g}):(0,d.jsx)(R.Z,{noContMess:"Sorry, we couldn't find any vehicles"}),e<m&&(0,d.jsx)(Z.Z,{className:c.Z["load-btn"],onMainBtnClick:()=>{t((e=>e+1))},btnTitle:"Load More",styles:c.Z["load-btn"]})]})}}}]);
//# sourceMappingURL=237.1124bae4.chunk.js.map